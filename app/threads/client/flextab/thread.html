<template name="thread">
	<header class="contextual-bar__header">
		<div class="contextual-bar__header-data">
			{{> icon block="contextual-bar__header-icon" icon='thread'}}
			<h2 class="contextual-bar__header-title">{{_ 'Thread'}}
				<sub class="contextual-bar__header-description">{{ room.fname }}</sub>
			</h2>
		</div>
		<button class="contextual-bar__header-close js-close">
			{{> icon block="contextual-bar__header-close-icon" icon="plus"}}
		</button>
	</header>
	<section class="contextual-bar__content flex-tab threads">
		<div class="thread-list js-scroll-thread">
			<ul class="thread">
				{{# with messageContext}}
					{{> nrr nrrargs 'message' hideRoles=true msg=mainMessage room=room subscription=subscription settings=settings customClass="thread-message" templatePrefix='thread-' customClass="thread-main" u=u}}
					{{#each msg in messages}}
						{{> nrr nrrargs 'message' hideRoles=true msg=msg room=room subscription=subscription settings=settings templatePrefix='thread-' u=u}}
					{{/each}}
				{{/with}}
			</ul>
		</div>
		{{> messageBox messageBoxData}}
	</section>
</template>
